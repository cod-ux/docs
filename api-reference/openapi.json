{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/create_task":{"post":{"summary":"Create Task","operationId":"create_task_create_task_post","parameters":[{"name":"x-api-key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_results/{task_id}":{"get":{"summary":"Get Results","operationId":"get_results_get_results__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"api-key","in":"header","required":true,"schema":{"type":"string","title":"Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetResultsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate_api_key":{"post":{"summary":"Generate Api Key","operationId":"generate_api_key_generate_api_key_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateApiKeyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CreateTaskRequest":{"properties":{"task":{"type":"string","title":"Task"},"target_model":{"type":"string","title":"Target Model"},"prompt":{"type":"string","title":"Prompt"},"agent_type":{"type":"string","title":"Agent Type"},"user_persona":{"type":"string","title":"User Persona","default":""},"test_criteria":{"type":"string","title":"Test Criteria","default":""},"transcript":{"type":"string","title":"Transcript","default":""},"provided_variables":{"additionalProperties":{"type":"string"},"type":"object","title":"Provided Variables"},"tool_schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Tool Schema"}},"type":"object","required":["task","target_model","prompt","agent_type"],"title":"CreateTaskRequest"},"CreateTaskResponse":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"The ID of the task"}},"type":"object","required":["task_id"],"title":"CreateTaskResponse"},"GenerateApiKeyRequest":{"properties":{"user_id":{"type":"string","title":"User Id"}},"type":"object","required":["user_id"],"title":"GenerateApiKeyRequest"},"GetResultsResponse":{"properties":{"status":{"type":"string","title":"Status","description":"The status of the task"},"result":{"$ref":"#/components/schemas/TaskResult","description":"The result of the task"},"error":{"type":"string","title":"Error","description":"The error of the task"}},"type":"object","required":["status","result","error"],"title":"GetResultsResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Iteration":{"properties":{"iteration_number":{"type":"integer","title":"Iteration Number","default":0},"interpreted_task":{"type":"string","title":"Interpreted Task","default":""},"prompt_suggestions":{"items":{"$ref":"#/components/schemas/PromptChange"},"type":"array","title":"Prompt Suggestions"},"solution_approach":{"type":"string","title":"Solution Approach","default":""},"prompt_change_summary":{"type":"string","title":"Prompt Change Summary","default":""},"test":{"$ref":"#/components/schemas/Test"},"test_result":{"$ref":"#/components/schemas/TestResult"},"prompt_content":{"type":"string","title":"Prompt Content","default":""},"iteration_summary":{"type":"string","title":"Iteration Summary","default":""}},"type":"object","title":"Iteration"},"LineRange":{"properties":{"start":{"type":"integer","title":"Start"},"end":{"type":"integer","title":"End"}},"type":"object","required":["start","end"],"title":"LineRange"},"PromptChange":{"properties":{"instruction":{"type":"string","title":"Instruction"},"line_range":{"$ref":"#/components/schemas/LineRange"}},"type":"object","required":["instruction","line_range"],"title":"PromptChange"},"Task":{"properties":{"task":{"type":"string","title":"Task","default":""},"og_prompt":{"type":"string","title":"Og Prompt","default":""},"agent_type":{"type":"string","title":"Agent Type","default":"outbound"},"target_model":{"type":"string","title":"Target Model","default":""},"user_persona":{"type":"string","title":"User Persona","default":""},"test_criteria":{"type":"string","title":"Test Criteria","default":""},"provided_variables":{"additionalProperties":{"type":"string"},"type":"object","title":"Provided Variables","default":{}},"tool_schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Tool Schema","default":[]},"transcript":{"type":"string","title":"Transcript","default":""}},"type":"object","title":"Task"},"TaskResult":{"properties":{"task":{"$ref":"#/components/schemas/Task"},"passed":{"type":"boolean","title":"Passed","default":false},"final_prompt":{"type":"string","title":"Final Prompt","default":""},"task_summary":{"type":"string","title":"Task Summary","default":""},"iterations":{"items":{"$ref":"#/components/schemas/Iteration"},"type":"array","title":"Iterations"}},"type":"object","title":"TaskResult"},"Test":{"properties":{"scenario":{"type":"string","title":"Scenario","default":""},"criteria":{"type":"string","title":"Criteria","default":""},"variables":{"additionalProperties":{"type":"string"},"type":"object","title":"Variables","default":{}},"transcript":{"type":"string","title":"Transcript","default":""}},"type":"object","title":"Test"},"TestResult":{"properties":{"passed":{"type":"boolean","title":"Passed"},"reason":{"type":"string","title":"Reason"},"conversation":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Conversation"}},"type":"object","required":["passed","reason","conversation"],"title":"TestResult"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}